<div id="rangeSliderViewerId">

<!-- Range Slider -->
<link rel="stylesheet" href="viewers/rangeSlider/jQRangeSlider/css/classic-min.css" type="text/css" />
<script src="viewers/rangeSlider/jQRangeSlider/jQAllRangeSliders-withRuler-min.js"></script>

<style>

@media (min-width: $screen-xs) and (max-width: $screen-sm) {
  .rangeSlider{
      width:200px;
      float:right;
      margin-top:-30px;
    }
}

@media (min-width: $screen-md) and (max-width: $screen-lg) {
  .rangeSlider{
      width:400px;
      float:right;
      margin-top:-30px;
    }
}

.adapt-size {
  width:85%;
  margin-top:30px;
  float:left;
}
@media (min-width: 768px) {
  .adapt-size {
    width:94%;
    margin-top:30px;
    float:left;
  }
}
</style>
<div id="slider" class="rangeSlider adapt-size"></div>
<div style="float:right;margin-top: 28px;margin-right: 10px;">
   <button type="button" class="btn btn-default btn-sm" id="editButton" title="Edit">
     <span class="glyphicon glyphicon-edit" id="editValidate"></span> 
   </button>
</div>

<script>
function TwoDigits(val){
    if (val < 10){
         return "0" + val;
    }
    
    return val;
}

$("#slider").dateRangeSlider({
    bounds: {min: new Date("2014-03-29T05:00:00Z"), max: new Date("2014-03-30T05:05:03Z")},
    enabled: false,
    defaultValues: {min: new Date("2014-03-29T21:00:00Z"), max: new Date("2014-03-30T05:05:03Z")},
    formatter: function(value){
        var hours = value.getHours(),
            minutes = value.getMinutes();
        return TwoDigits(hours) + ":" + TwoDigits(minutes);
    },
    
    scales: [{
        first: function (value) {
            return value;
        },
        end: function (value) {
            return value;
        },
        next: function (value) {
            var next = new Date(value);
            return new Date(next.setHours(value.getHours() + 1));
        },
        label: function (value) {
            if( value.getHours() %  3 == 0){
              return (value.getHours() > 0 )?TwoDigits(value.getHours()): 0;            
            } else {
              return "";
            }
        },
        format: function(tickContainer, tickStart, tickEnd){ 
          tickContainer.addClass("sliderCustomLabel");
        }
    }]
});

$("#editButton").click(function () {
    
    var editValidate = $("#editValidate");
    if(editValidate.hasClass("glyphicon-edit")){
      $("#editValidate").removeClass("glyphicon-edit");
      $("#editValidate").addClass("glyphicon-ok");
      $('#editButton').attr("title", "validate");	
      $("#slider").dateRangeSlider("enable");
      $("#editButton").trigger( "change", ["edit"] );
    } else {
      $("#editValidate").removeClass("glyphicon-ok");
      $("#editValidate").addClass("glyphicon-edit");
      $('#editButton').attr("title", "edit");	
      $("#slider").dateRangeSlider("disable");
      $("#editButton").trigger( "change", ["validate"] );
    }    
    return false;
});
</script>

</div>
