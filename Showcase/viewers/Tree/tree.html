<div id="treeViewId">
    <!-- Vendor all-in-one was built with:

        gulp build --broadway --cesium --ffmpeg --jsonix --leaflet --nouislider --nvd3 --ol3 --tree


        <li nk rel="stylesheet" href="vendor/all-in-one/vendor.css"/>
        <script src="vendor/all-in-one/vendor.js"></script>

        <link rel="stylesheet" href="css/osh.css"/>
        <script src="js/osh.js"></script>
     -->

    <div id="tree-container" style="height:100%;width:100%"></div>
    <div id="tree-inner"></div>
    <style>
    </style>
    <script>

        var replayFactor = 3;
        //--Android Phone Video
        var androidPhoneGpsDataSource = new OSH.DataReceiver.JSON("android-GPS", {
            protocol: "ws",
            service: "SOS",
            endpointUrl: "sensiasoft.net:8181/sensorhub/sos",
            offeringID: "urn:android:device:060693280a28e015-sos",
            observedProperty: "http://sensorml.com/ont/swe/property/Location",
            startTime: "2015-02-16T07:58:00Z",
            endTime: "2015-02-16T08:09:00Z",
            replaySpeed: replayFactor+"",
            syncMasterTime: true,
            bufferingTime: 1000,
            timeShift: -16000
        });

        var androidPhoneOrientationDataSource = new OSH.DataReceiver.JSON("android-Orientation", {
            protocol: "ws",
            service: "SOS",
            endpointUrl: "sensiasoft.net:8181/sensorhub/sos",
            offeringID: "urn:android:device:060693280a28e015-sos",
            observedProperty: "http://sensorml.com/ont/swe/property/OrientationQuaternion",
            startTime: "2015-02-16T07:58:00Z",
            endTime: "2015-02-16T08:09:00Z",
            replaySpeed: replayFactor+"",
            syncMasterTime: true,
            bufferingTime: 1000
        });

        var androidPhoneVideoDataSource = new OSH.DataReceiver.VideoMjpeg("android-Video", {
            protocol: "ws",
            service: "SOS",
            endpointUrl: "sensiasoft.net:8181/sensorhub/sos",
            offeringID: "urn:android:device:060693280a28e015-sos",
            observedProperty: "http://sensorml.com/ont/swe/property/VideoFrame",
            startTime: "2015-02-16T07:58:00Z",
            endTime: "2015-02-16T08:09:00Z",
            replaySpeed: replayFactor+"",
            syncMasterTime: true,
            bufferingTime: 1000
        });

        //-----------------------------------------------------------//
        //--------------------- Creates entities --------------------//
        //-----------------------------------------------------------//

        var androidEntity = {
            id : "entity-"+OSH.Utils.randomUUID(),
            name: "Android Phone",
            dataSources: [androidPhoneGpsDataSource, androidPhoneOrientationDataSource,androidPhoneVideoDataSource]
        };

        //-----------------------------------------------------------//
        //--------------------- Creates menu ------------------------//
        //-----------------------------------------------------------//

        var stackContextMenuId = "menu-"+OSH.Utils.randomUUID();

        var menuItems = [{
            name: "Android Video",
            viewId: "tree-inner",
            css: "fa fa-video-camera"
        }];

        var contextStackMenu = new OSH.UI.ContextMenu.StackMenu({id : stackContextMenuId,groupId: "menu-"+OSH.Utils.randomUUID(),items : menuItems});

        //-----------------------------------------------------------//
        //--------------------- Creates View ------------------------//
        //-----------------------------------------------------------//

        var entityTreeView = new OSH.UI.EntityTreeView("tree-container",
            [{
                entity : androidEntity,
                path: "Sensors/Toulouse",
                treeIcon : "images/android_icon.png",
                contextMenuId: stackContextMenuId
            }],
            {
                css: "tree-container"
            }
        );
    </script>
</div>
